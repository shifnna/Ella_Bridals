<%-include("../../views/partials/H-profile")%>
<style>
  .close-tag {
    position: absolute;
    top: 10px; /* Adjust the position as needed */
    right: 10px; /* Adjust the position as needed */
    width: 40px; /* Adjust size */
    height: 40px; /* Adjust size */
   border-color: #0e0c0d; /* Background color */
    color: rgb(0, 0, 0); /* Font color */
    border-radius: 50%; /* Round shape */
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer; /* Show pointer cursor on hover */
    text-decoration: none; /* Remove underline */
    font-weight: bold; /* Make the close symbol bold */
}

.close-tag a {
    color: rgb(10, 0, 0); /* Set the color of the close symbol */
    text-decoration: none; /* Remove underline from the link */
}

.close-tag a :hover {
    color: rgb(164, 153, 153); /* Set the color of the close symbol */
    text-decoration: none; /* Remove underline from the link */
}

.close-tag:hover {
    background-color: rgb(235, 225, 225); /* Change background on hover */
   
}


</style>
<!-- Wishlist Section -->
<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
   
    <!-- No Wishlist Items -->
     <% if(wishlist.length === 0){%>
    <div class="wishlist-header row mb-4">
        <div class="col-md-12">
            <h4 class="wishlist-summary-title">No Items in Wishlist</h4>
        </div>
    </div>
    <%}else{%>
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h2 class="h2">My Wishlist (<%= wishlist.length %>)</h2>
        </div>
    
        <!-- Wishlist Header -->
        <div class="wishlist-header row mb-4">
            <div class="col-md-12">
                <!-- <h4 class="wishlist-summary-title">My Wishlist</h4> -->
            </div>
        </div>
        
        <!-- Wishlist Items -->
<div class="row">
    <% wishlist.forEach(function(wish) { %>
        <div class="col-md-4 mb-4"> <!-- col-md-4 makes 3 products per row on medium and larger screens -->
            <div class="card h-100" style="border: 1px solid #ebebeb; background-color: #f9f9f9; position: relative; align-items: center;">
                <div class="card-body d-flex flex-column" style="align-items: center;">
                    <!-- Close Tag -->
                    <div class="close-tag">
                        <a href="/removeFromWishlist?id=<%= wish._id %>">×</a> <!-- Use × symbol for close -->
                    </div>
                    
                    <!-- Product Image -->
                    <% if (wish.productImage && wish.productImage.length > 0) { %>
                        <img src="/imgs/re-images/<%= wish.productImage[0] %>" alt="Product Image" class="img-fluid rounded mb-2" style="width: 250px; height: 250px; object-fit: cover;">
                    <% } %>
                    <!-- Product Details -->
                    <h6 class="product-title mt-2"><%= wish.productName %></h6>
                    <p>MRP: <span style="text-decoration: line-through;"><%= wish.salePrice %></span> <%= wish.salePrice %></p>
                    <p><span class="text-success"><%= wish.offerPercentage %>% Off</span></p>
                    
                    <!-- Move to Bag Button -->
                    <div class="d-grid gap-2 mt-auto">
                        <a href="/addToCart/<%= wish._id %>/11" class="btn btn-outline-primary btn-sm">Move to Bag</a>
                    </div>
                </div>
            </div>
        </div>
    <% }) %>
</div>

        <!-- Continue Shopping -->
        <div class="mt-4 ">
            <button style="background-color: #0e0c0d; border-color: #0e0c0d;width: 32%;" class="btn btn-outline-primary">
                <a style="text-decoration: none; color: aliceblue;" href="/shop">Continue Shopping</a>
            </button>
        </div>
    <%}%>
</main>

<!-- Bootstrap 5 JS CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    $(document).ready(function() {
  $('.dropdown-toggle').dropdown();
});
</script>
<!-- Js Plugins -->
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="js/mixitup.min.js"></script>
<script src="js/jquery.countdown.min.js"></script>
<script src="js/jquery.slicknav.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/jquery.nicescroll.min.js"></script>
<script src="js/main.js"></script>
</body>

</html>